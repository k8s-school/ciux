apiVersion: v1alpha1
registry: test-registry.io
sourcePathes:
  - src
  - Dockerfile
dependencies:
  # Regular dependency that follows branch behavior
  - url: https://github.com/astrolabsoftware/fink-alert-simulator
    clone: true
    pull: true
    labels:
      itest: "true"
      ci: "true"

  # Dependency pinned to a specific tag
  - url: https://github.com/astrolabsoftware/finkctl
    clone: true
    revision: "v3.1.1-rc2"
    labels:
      itest: "true"
      ci: "true"

  # Dependency pinned to a specific commit hash
  - url: https://github.com/k8s-school/ktbx
    clone: true
    revision: "abc123def456"
    labels:
      build: "true"

  # Container image dependency (unchanged)
  - image: gitlab-registry.in2p3.fr/astrolabsoftware/fink/spark-py:k8s-3.4.1
    labels:
      build: "true"